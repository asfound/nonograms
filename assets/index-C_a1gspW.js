(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&a(l)}).observe(document,{childList:!0,subtree:!0});function n(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function a(o){if(o.ep)return;o.ep=!0;const s=n(o);fetch(o.href,s)}})();const ee=""+new URL("cross-CBQ6w4Fs.mp3",import.meta.url).href,te=""+new URL("fill-D1wuGVZI.mp3",import.meta.url).href,ne=""+new URL("remove-DFjcJ7vV.mp3",import.meta.url).href,ae=""+new URL("win-BFVVT_5V.mp3",import.meta.url).href,m=Object.freeze({TEMPLATE_SELECTION:"templateSelection",GAME_STARTED:"gameStarted",GAME_OVER:"gameOver",CONTINUE_GAME:"continueGame",SAVE_GAME:"saveGame",SOLUTION_REVEAL:"solutionReveal",SHOW_SCORE:"showScore",CELL_CLICK:"cellClick"});function oe(){const e={};return{on(t,n){return e[t]||(e[t]=[]),e[t].push(n),n},off(t,n){e[t]&&(e[t]=e[t].filter(a=>a!==n))},emit(t,...n){e[t]&&e[t].forEach(a=>{a(...n)})},once(t,n){const a=(...o)=>{n(...o),this.off(t,a)};return this.on(t,a),a}}}function se(e,t){const n={win:new Audio(ae),1:new Audio(te),"-1":new Audio(ee),0:new Audio(ne)};Object.values(n).forEach(o=>{o.load()});function a(o){if(e.getState().sound){const s=n[o];s.currentTime=0,s.play()}}return t.on(m.CELL_CLICK,({cellState:o})=>{const s=String(o);a(s)}),t.on(m.GAME_OVER,()=>{a("win")}),{playSound:a}}function le(e){const t=[];for(let n=0;n<e[0].length;n+=1){const a=[];let o=0;e.forEach(s=>{s[n]===1?o+=1:o>0&&(a.push(o),o=0)}),o>0&&a.push(o),t.push(a)}return t}function ce(e){const t=[];return e.forEach(n=>{let a=0;const o=[];n.forEach(s=>{s===1?a+=1:a>0&&(o.push(a),a=0)}),a>0&&o.push(a),t.push(o)}),t}function B(e){return e.flat().filter(t=>t===1).length}function J(e){return Array.from({length:e},()=>Array.from({length:e},()=>0))}function C(e){return function(n={}){const a=document.createElement(e);return n&&Object.assign(a,n),a}}const N=C("button"),re=C("dialog"),v=C("div"),ie=C("caption"),de=C("h1"),ue=C("header"),me=C("label"),pe=C("main"),U=C("option"),fe=C("p"),F=C("table"),W=C("thead"),Y=C("tbody"),M=C("tr"),I=C("th"),g=C("td"),q=C("select"),Ee="_board_1qlry_1",Ce="_head_1qlry_20",he="_heading_1qlry_21",_e="_cell_1qlry_27",Te="_row_1qlry_97",Se="_hint_1qlry_97",be="_field_1qlry_107",Ne="_icon_1qlry_125",h={board:Ee,head:Ce,heading:he,cell:_e,row:Te,hint:Se,field:be,icon:Ne};function ge(e,t,n,a){const o=F({className:h.board}),s=W({className:h.head}),l=M({className:h.row}),i=I({className:h.heading});l.appendChild(i),s.appendChild(l);const r=le(e),d=ce(e),c=M({className:h.row}),u=g({innerText:t,className:h.icon});c.appendChild(u);const p=Y({className:h.field});p.appendChild(c),p.addEventListener("mousedown",E=>{E.target instanceof HTMLTableCellElement&&E.target.hasAttribute("data-state")&&(E.button===0||E.button===2)&&n.emit(m.GAME_STARTED)},{once:!0}),r.forEach(E=>{const b=g({innerText:E.join(`
`),className:`${h.hint} ${h.cell}`});c.appendChild(b)});function f(E,b,O){const G=e[b][O]===1?1:-1;E.setAttribute("data-state",String(G))}const _=e.map((E,b)=>{const O=M({className:h.row}),D=g({innerText:d[b].join(" "),className:`${h.hint} ${h.cell}`}),G=E.map((pt,A)=>{const S=g({className:h.cell}),Q=a[b][A];return S.setAttribute("data-state",String(Q)),n.on(m.SOLUTION_REVEAL,()=>f(S,b,A)),S.addEventListener("mousedown",w=>{if(w.button===0){const y=S.getAttribute("data-state")!=="1"?"1":"0";S.setAttribute("data-state",y),n.emit(m.CELL_CLICK,{rowIndex:b,colIndex:A,cellElement:S,cellState:Number(y)})}}),S.addEventListener("contextmenu",w=>{w.preventDefault();const y=S.getAttribute("data-state")!=="-1"?"-1":"0";S.setAttribute("data-state",y),n.emit(m.CELL_CLICK,{rowIndex:b,colIndex:A,cellState:y})}),S});return O.append(D,...G),O});return p.append(..._),o.append(s,p),o}function Le(e,t,n,a){t.replaceChildren(),t.style.removeProperty("pointer-events");const o=ge(e.matrix,e.icon,n,a);t.appendChild(o)}function ve(e,t){let n={currentTemplateName:e.name,currentTemplateMatrix:e.matrix,playerMatrix:J(e.size),correctCellsCount:B(e.matrix),playerCorrectCellsCount:0,isGameOver:!0,elapsedTime:0,mode:t.themeMode,sound:t.isSoundOn};return{getState(){return{...n}},updateState(a){n={...n,...a}}}}function ye(e,t){e.updateState({currentTemplateName:t.name,currentTemplateMatrix:t.matrix,playerMatrix:J(t.size),correctCellsCount:B(t.matrix),playerCorrectCellsCount:0,isGameOver:!0,elapsedTime:0})}function Me(e,t,n,a,o){e.updateState({currentTemplateName:t.name,currentTemplateMatrix:t.matrix,playerMatrix:n,correctCellsCount:B(t.matrix),playerCorrectCellsCount:a,isGameOver:!0,elapsedTime:o})}const L=[{name:"bomb",icon:"爆弾",size:5,matrix:[[0,0,1,1,0],[0,1,0,0,1],[1,1,1,0,0],[1,0,1,0,0],[1,1,1,0,0]]},{name:"camel",icon:"駱駝",size:5,matrix:[[0,1,0,0,0],[1,1,1,0,1],[1,1,1,1,0],[1,0,1,0,0],[1,0,1,0,0]]},{name:"chicken",icon:"鶏",size:5,matrix:[[0,1,0,0,0],[1,1,0,1,1],[0,1,1,1,0],[0,1,1,1,0],[0,0,1,0,0]]},{name:"heart",icon:"心",size:5,matrix:[[0,1,0,1,0],[1,1,1,1,1],[1,1,1,1,1],[0,1,1,1,0],[0,0,1,0,0]]},{name:"tetris",icon:"積木",size:5,matrix:[[0,0,1,0,0],[0,1,1,0,0],[1,0,1,0,1],[1,0,0,1,1],[1,1,0,1,1]]},{name:"cat",icon:"猫",size:10,matrix:[[0,0,0,0,0,0,1,1,1,0],[1,0,0,0,1,0,1,0,1,1],[1,1,0,1,1,0,0,0,0,1],[1,1,1,1,1,0,0,0,0,1],[1,0,1,0,1,0,0,0,0,1],[1,1,1,1,1,0,0,0,0,1],[0,1,1,1,0,0,0,1,1,1],[0,0,1,1,1,1,1,1,1,1],[0,0,1,1,1,1,1,1,1,1],[0,0,0,1,1,1,1,0,1,1]]},{name:"dog",icon:"犬",size:10,matrix:[[1,1,0,0,1,1,0,0,0,0],[0,0,1,1,1,0,0,0,0,0],[0,1,1,0,1,1,1,1,0,0],[0,1,1,1,1,1,1,0,0,0],[0,0,1,1,0,0,0,0,0,0],[0,1,1,1,1,1,0,0,0,1],[1,1,1,1,1,1,1,1,0,1],[1,0,1,1,1,1,1,1,1,0],[0,0,1,0,0,1,1,1,0,0],[0,1,1,0,1,1,1,0,0,0]]},{name:"kettle",icon:"鉄瓶",size:10,matrix:[[0,0,1,1,1,1,1,0,0,0],[0,1,0,0,0,0,0,1,0,0],[0,1,0,0,1,0,0,1,0,0],[0,0,1,1,1,1,1,0,0,0],[0,1,1,1,1,1,1,1,0,0],[1,1,1,1,1,1,1,1,0,1],[1,0,1,1,1,1,1,1,1,1],[1,0,0,1,1,1,1,1,1,1],[1,1,0,0,1,1,1,1,1,0],[0,1,1,1,1,1,1,1,0,0]]},{name:"plum",icon:"梅",size:10,matrix:[[0,0,0,0,0,1,1,1,1,0],[0,1,1,1,1,0,0,1,0,0],[1,1,1,1,1,0,1,1,0,0],[1,1,1,1,0,0,1,0,0,0],[1,1,0,0,1,1,1,1,1,0],[1,0,0,1,1,1,1,0,1,1],[0,0,0,1,1,1,1,1,0,1],[0,0,0,1,1,1,1,1,0,1],[0,0,0,1,1,1,1,1,1,1],[0,0,0,0,1,1,1,1,1,0]]},{name:"yacht",icon:"帆船",size:10,matrix:[[0,0,0,0,0,1,0,0,0,0],[0,0,0,0,1,1,0,0,0,0],[0,0,0,1,1,1,0,0,0,0],[0,0,1,1,1,1,0,0,0,0],[0,1,1,1,1,1,0,0,0,0],[0,0,0,0,0,1,0,1,1,0],[1,1,1,1,1,1,1,1,0,0],[0,1,1,1,1,1,1,0,0,0],[1,0,1,0,1,0,1,0,1,0],[0,1,0,1,0,1,0,1,0,1]]},{name:"lion",icon:"獅子",size:15,matrix:[[0,0,1,1,1,0,1,1,1,0,0,0,0,0,0],[0,1,1,1,1,1,1,1,1,1,0,0,0,0,0],[0,1,1,1,1,1,1,1,1,1,0,0,0,0,0],[1,1,1,0,0,0,0,0,1,1,1,0,0,0,0],[1,1,1,0,1,0,1,0,1,1,1,0,0,1,0],[1,1,1,1,0,0,0,1,1,1,1,0,1,1,1],[0,1,1,1,0,1,0,1,1,1,0,0,1,1,1],[0,1,1,1,1,0,1,1,1,1,0,0,0,1,0],[0,0,1,1,1,1,1,1,1,1,1,0,0,1,1],[0,0,0,1,1,1,1,1,0,0,1,1,0,0,1],[0,0,0,1,1,1,1,0,0,0,0,1,1,0,1],[0,0,0,1,0,1,0,1,0,0,0,0,1,1,1],[0,0,1,1,0,1,0,1,0,1,1,0,0,1,0],[0,0,1,0,1,0,0,1,1,1,0,0,0,1,0],[0,0,1,1,1,1,1,1,0,1,1,1,1,1,0]]},{name:"mickey",icon:"鼠",size:15,matrix:[[0,0,0,0,1,1,1,1,1,0,0,0,0,0,0],[0,0,0,1,1,1,1,1,1,1,0,0,0,0,0],[0,0,0,1,1,1,1,1,1,1,0,1,1,1,0],[0,0,0,1,1,1,1,1,1,1,0,1,1,1,1],[0,0,0,0,1,1,1,1,1,0,1,1,1,1,1],[0,0,0,0,0,1,1,1,1,1,1,1,1,1,1],[0,0,0,0,1,0,1,0,0,1,1,1,1,1,1],[0,0,0,1,0,0,0,0,0,0,1,1,1,1,1],[0,0,0,1,0,1,0,1,0,0,1,1,1,1,0],[1,1,0,1,0,1,0,1,0,0,1,1,1,0,0],[1,1,1,1,1,0,0,0,0,1,1,0,1,0,0],[1,1,0,0,0,0,0,0,0,0,0,0,1,0,0],[0,1,0,0,0,0,0,0,0,1,0,1,1,0,0],[0,0,1,1,0,0,0,1,1,0,1,1,0,0,0],[0,0,0,0,1,1,1,1,1,1,1,0,0,0,0]]},{name:"rose",icon:"薔薇",size:15,matrix:[[0,0,0,0,1,1,1,0,1,1,0,0,0,0,0],[0,0,0,1,0,0,1,1,0,1,1,0,0,0,0],[0,0,1,0,1,1,0,0,0,0,1,1,0,0,0],[0,0,1,0,0,0,0,1,1,0,0,1,0,0,0],[1,0,1,1,0,0,1,1,1,0,1,0,0,0,0],[1,1,0,1,1,1,1,1,0,0,1,1,0,0,0],[1,1,1,0,1,1,1,0,0,1,1,1,0,0,0],[0,1,1,1,0,0,0,1,0,1,1,0,0,0,1],[0,0,0,0,1,1,1,1,0,1,1,0,1,1,1],[0,0,1,1,1,1,1,0,1,1,0,1,1,1,1],[0,0,0,1,1,1,0,1,0,0,1,1,1,1,1],[0,0,0,0,0,0,0,0,1,0,1,1,1,1,1],[0,0,0,0,0,0,0,0,1,1,1,1,1,1,0],[0,0,0,0,0,0,0,0,1,1,1,1,1,0,0],[0,0,0,0,0,0,0,0,1,1,0,0,0,0,0]]},{name:"squirrel",icon:"栗鼠",size:15,matrix:[[0,1,1,1,1,0,0,0,1,0,1,0,0,0,0],[1,0,0,1,1,1,0,0,1,0,1,0,0,0,0],[0,0,0,1,0,1,0,0,1,1,1,1,0,0,0],[0,0,1,0,1,1,0,0,1,1,0,1,1,0,0],[0,1,1,0,1,0,0,0,1,1,1,1,1,0,0],[0,1,0,0,1,0,0,1,1,1,1,1,0,0,0],[1,1,0,1,0,0,1,1,1,1,0,0,1,1,1],[1,0,0,1,0,1,1,1,1,1,1,1,0,0,1],[1,0,0,1,0,1,1,1,1,1,0,0,1,1,1],[1,0,0,1,1,1,1,1,0,0,1,0,1,1,1],[1,0,0,1,1,1,1,1,0,0,1,0,0,1,0],[1,1,0,0,1,1,1,0,0,1,1,0,0,0,0],[0,1,1,1,1,1,1,1,1,1,0,0,0,0,0],[0,0,1,1,0,1,1,0,1,0,0,0,0,0,0],[0,0,0,0,0,1,1,1,1,1,1,0,0,0,0]]},{name:"swan",icon:"白鳥",size:15,matrix:[[0,0,0,1,1,1,1,0,0,0,0,0,0,0,0],[0,0,1,1,0,0,0,1,0,0,0,0,0,0,0],[0,0,1,1,1,1,0,1,1,0,0,0,0,0,0],[0,0,1,1,0,1,1,0,1,0,0,0,0,0,0],[0,1,1,0,0,0,1,0,1,0,0,0,0,0,0],[0,0,0,0,0,1,0,1,1,0,0,0,0,0,0],[0,0,0,0,1,0,1,1,0,0,0,0,0,0,0],[0,0,0,1,0,1,1,0,0,1,1,1,1,1,0],[0,0,1,0,1,1,0,1,1,1,0,0,0,1,1],[0,1,1,0,1,0,1,1,0,0,0,1,1,1,0],[1,1,0,0,1,1,1,0,0,1,1,0,1,0,0],[1,1,0,0,0,1,0,1,1,0,0,1,1,1,0],[1,1,0,0,0,0,0,0,0,0,1,1,0,0,0],[0,1,1,0,0,0,0,0,0,0,0,1,1,1,0],[0,0,1,1,1,1,1,1,1,1,1,1,1,0,0]]},{name:"tractor",icon:"耕耘機",size:15,matrix:[[0,1,1,1,1,0,1,1,0,1,0,0,0,0,0],[1,1,0,1,1,1,0,1,1,0,1,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,1,0,0,0],[0,1,1,1,1,1,1,1,0,0,0,1,0,0,0],[0,1,1,1,1,1,1,0,0,0,0,1,0,0,0],[0,0,1,0,0,0,1,0,0,0,0,1,0,0,0],[0,0,1,0,0,0,1,0,0,0,1,1,0,0,0],[0,0,1,1,1,0,1,1,1,1,1,1,1,0,0],[0,1,1,1,1,1,1,0,0,1,1,1,1,1,0],[0,1,1,0,0,0,1,1,0,1,0,1,0,1,0],[1,1,0,1,1,1,0,1,1,1,1,1,1,0,0],[0,1,0,1,0,1,0,1,1,1,1,0,1,1,0],[0,1,0,1,1,1,0,1,0,1,0,1,0,1,0],[0,0,1,0,0,0,1,0,0,1,1,0,1,1,0],[1,0,0,1,1,1,0,0,0,0,1,1,1,0,1]]}],P="asfound-nonograms",V=`${P}-score`,H=`${P}-game`,Z=`${P}-preferences`;function Oe(e,t){const n=JSON.parse(localStorage.getItem(V)||"[]"),a=L.find(l=>l.name===e),o=a?a.size:0;n.unshift({name:e,size:o,seconds:t});const s=n.slice(0,5);localStorage.setItem(V,JSON.stringify(s))}function Ae(){return JSON.parse(localStorage.getItem(V)||"[]")}function $(e){const t=Math.floor(e/60),n=e%60;return`${String(t).padStart(2,"0")}:${String(n).padStart(2,"0")}`}function xe(e){const{currentTemplateName:t,playerMatrix:n,playerCorrectCellsCount:a,elapsedTime:o}=e.getState(),s={name:t,matrix:n,cellsCount:a,seconds:o};localStorage.setItem(H,JSON.stringify(s))}function Ge(){const e=localStorage.getItem(H);return JSON.parse(e||"")}function R(){return localStorage.getItem(H)!==null}function we(){const e=localStorage.getItem(Z);return e?JSON.parse(e):{themeMode:"light",isSoundOn:!0}}function K(e){const{mode:t,sound:n}=e.getState(),a={themeMode:t,isSoundOn:n};localStorage.setItem(Z,JSON.stringify(a))}function Re(e){const{correctCellsCount:t,playerCorrectCellsCount:n}=e.getState();return t===n}function ze({rowIndex:e,colIndex:t,cellState:n},a){const{currentTemplateMatrix:o,playerMatrix:s,playerCorrectCellsCount:l}=a.getState(),i=o[e][t],r=s[e][t],d=Number(n);let c=l;d===1&&i===1||r===1&&d!==1&&i===0?c+=1:(r===1&&d!==1&&i===1||d===1&&i===0)&&(c-=1);const E=s;E[e][t]=d,a.updateState({playerMatrix:E,playerCorrectCellsCount:c})}function ke({rowIndex:e,colIndex:t,cellState:n},a,o,s,l){if(ze({rowIndex:e,colIndex:t,cellState:n},a),Re(a)){s.stopTimer();const{elapsedTime:i,currentTemplateName:r}=a.getState();o.emit(m.SOLUTION_REVEAL),setTimeout(()=>{o.emit(m.GAME_OVER,`You won in ${i} seconds!`)},100),Oe(r,i);const d=l;d.style.pointerEvents="none"}}function z(e,t,n,a,o){t.off(m.CELL_CLICK,o);const{currentTemplateName:s,elapsedTime:l,playerMatrix:i}=e.getState(),r=L.find(d=>d.name===s);Le(r,a,t,i),n.resetTimer(),n.setTimer(l),t.on(m.CELL_CLICK,o)}function Ie(e){const t=Ge(),{name:n,matrix:a,cellsCount:o,seconds:s}=t,l=L.find(i=>i.name===n);return l&&Me(e,l,a,o,s),l}function Ve(e,t,n){e.on(m.GAME_OVER,()=>{n.stopTimer(),t.updateState({elapsedTime:n.getSeconds()})}),e.on(m.SOLUTION_REVEAL,n.stopTimer),e.on(m.GAME_STARTED,n.startTimer),e.on(m.SAVE_GAME,()=>{t.updateState({elapsedTime:n.getSeconds()})})}const $e="_controls_1c37f_1",Be={controls:$e};function Pe(e,t,n,a){const o=v({className:Be.controls});o.classList.add("panel");const s=N({className:"button",textContent:"Reset Game"});s.disabled=!0;const l=N({className:"button",textContent:"Save Game"});l.disabled=!0;const i=N({className:"button",textContent:"Solution"});n.on(m.TEMPLATE_SELECTION,()=>{i.disabled=!1});const r=N({className:"button continue-button",textContent:"Continue Last Game"});return r.disabled=!R(),r.addEventListener("click",()=>{r.disabled=!0,i.disabled=!1,s.disabled=!1,l.disabled=!0,n.emit(m.CONTINUE_GAME)}),n.on(m.GAME_STARTED,()=>{s.disabled=!1,l.disabled=!1,r.disabled=!R()}),n.on(m.GAME_OVER,()=>{i.disabled=!0,l.disabled=!0}),i.addEventListener("click",()=>{n.emit(m.SOLUTION_REVEAL),e.updateState({isGameOver:!0});const d=a;d.style.pointerEvents="none",s.disabled=!1,l.disabled=!0,i.disabled=!0,r.disabled=!R()}),s.addEventListener("click",()=>{const{currentTemplateName:d}=e.getState(),c=t.find(u=>u.name===d);n.emit(m.TEMPLATE_SELECTION,c),s.disabled=!0,l.disabled=!0}),l.addEventListener("click",()=>{const{isGameOver:d}=e.getState();d||(n.emit(m.SAVE_GAME),xe(e)),r.disabled=!1}),o.appendChild(s),o.appendChild(l),o.appendChild(i),o.appendChild(r),o}const He="_table_o8k2n_1",De="_title_o8k2n_15",Ue="_head_o8k2n_22",qe="_data_o8k2n_26",Ke="_header_o8k2n_27",je="_corner_o8k2n_55",Je="_row_o8k2n_67",T={table:He,title:De,head:Ue,data:qe,header:Ke,corner:je,row:Je};function Fe(){const e=Ae();if(!e||e.length===0)return fe({innerText:"No results yet!"});e.sort((i,r)=>i.seconds-r.seconds);const t=Object.keys(e[0]),n=F({className:T.table}),a=ie({className:T.title,innerText:"Latest Results"});n.appendChild(a);const o=W({className:T.head}),s=M({className:T.row});o.appendChild(s),s.appendChild(I({className:T.corner})),t.forEach(i=>{const r=I({className:T.header,textContent:i});s.appendChild(r)});const l=Y({});return e.forEach(({name:i,size:r,seconds:d},c)=>{const u=M({className:T.row}),p=g({className:T.data,textContent:c+1}),f=g({className:T.data,textContent:i}),_=g({className:T.data,textContent:`${r}x${r}`}),E=g({className:T.data,textContent:$(d)});u.append(p,f,_,E),l.appendChild(u)}),n.appendChild(o),n.appendChild(l),n}const We="_fixed_1h5h3_1",Ye={fixed:We};function Ze(e,t){const n=v({className:"panel settings"}),a=N({className:"button",textContent:"Results"});a.addEventListener("click",()=>{const c=Fe();t.emit(m.SHOW_SCORE,c)});const o=(c,u)=>{const f=`${u==="light"?"dark":"light"} Mode`,_=c;_.textContent=f,u==="dark"?document.body.classList.add("dark"):document.body.classList.remove("dark")},s=N({className:"button"});s.classList.add(Ye.fixed);const l=e.getState().mode;o(s,l),s.addEventListener("click",()=>{const{mode:c}=e.getState(),u=c==="light"?"dark":"light";o(s,u),e.updateState({mode:u}),K(e)});const i=(c,u)=>{const f=`Sound ${u?"off":"on"}`,_=c;_.textContent=f},r=N({className:"button"}),d=e.getState().sound;return i(r,d),r.addEventListener("click",()=>{const{sound:c}=e.getState();e.updateState({sound:!c}),i(r,!c),K(e)}),n.appendChild(a),n.appendChild(s),n.appendChild(r),n}const Qe="_title_1vt5q_2",Xe={title:Qe};function et(e){const t=ue({}),n=de({className:Xe.title,textContent:e});return t.appendChild(n),t}const tt="_modal_7hscn_1",nt="_content_7hscn_17",j={modal:tt,content:nt};function at(e){const t=re({className:j.modal}),n=v({className:j.content}),a=N({className:"button",textContent:"OK"});a.addEventListener("click",()=>{t.close()}),t.addEventListener("click",s=>{s.target===t&&t.close()}),t.append(n,a),document.body.appendChild(t);function o(s){typeof s=="string"?n.textContent=s:(n.innerHTML="",n.appendChild(s)),t.showModal()}e.on(m.GAME_OVER,o),e.on(m.SHOW_SCORE,s=>{o(s)})}const ot="_levels_rbgjq_1",st="_label_rbgjq_5",lt="_select_rbgjq_11",x={levels:ot,label:st,select:lt},k=[{value:5,label:"Easy"},{value:10,label:"Medium"},{value:15,label:"Hard"}],ct=5;function rt(e,t){const n=v({className:x.levels});n.classList.add("panel");const a=me({className:x.label,innerText:"Choose puzzle: "});a.setAttribute("for","sizeSelect"),n.appendChild(a);const o=q({className:x.select,id:"sizeSelect"});k.forEach(c=>{const u=U({value:c.value,innerText:c.label});o.appendChild(u)}),n.appendChild(o);const s=q({className:x.select}),l=c=>{s.innerHTML="",e.filter(p=>p.size===c).forEach(p=>{const f=U({value:p.name,innerText:p.name});s.appendChild(f)})};l(ct),o.addEventListener("change",c=>{if(c.target instanceof HTMLSelectElement){const u=Number(c.target.value);l(u);const p=e.find(f=>f.size===u);t.emit(m.TEMPLATE_SELECTION,p)}}),s.addEventListener("change",c=>{if(c.target instanceof HTMLSelectElement){const u=c.target.value,p=e.find(f=>f.name===u);t.emit(m.TEMPLATE_SELECTION,p)}});function i(){const c=s.value,u=k[Math.floor(Math.random()*k.length)].value;o.value=String(u),l(u);const f=e.filter(E=>E.size===u).filter(E=>E.name!==c),_=f[Math.floor(Math.random()*f.length)];s.value=_.name,t.emit(m.TEMPLATE_SELECTION,_)}const r=N({className:"button",textContent:"Random Game",onclick:i});n.appendChild(s),n.appendChild(r);function d(c){const{size:u,name:p}=c;o.value=u.toString(),l(u),s.value=p}return{setMenuValues:d,levelsContainer:n}}const it="_timer_1pfvv_1",dt={timer:it};function ut(e){let t=0,n=null;const a=v({className:dt.timer,textContent:"00:00"});function o(){a.textContent=$(t)}function s(){n=setInterval(()=>{t+=1,o()},1e3)}function l(){n!==null&&(clearInterval(n),n=null),e.updateState({elapsedTime:t})}function i(){l(),a.textContent="00:00",t=0}function r(c){t=c,a.textContent=$(t)}function d(){return t}return{timerElement:a,controls:{resetTimer:i,setTimer:r,stopTimer:l,getSeconds:d,startTimer:s}}}function mt(){const e=oe(),t=L[0],n=we(),a=ve(t,n);at(e),se(a,e);const s=et("Nonograms");document.body.appendChild(s);const l=pe({className:"main"});document.body.appendChild(l);const i=rt(L,e);l.appendChild(i.levelsContainer);const r=ut(a);l.appendChild(r.timerElement),Ve(e,a,r.controls);const d=v({className:"container"});l.appendChild(d);const c=f=>{ke(f,a,e,r.controls,d)};z(a,e,r.controls,d,c),e.on(m.TEMPLATE_SELECTION,f=>{ye(a,f),z(a,e,r.controls,d,c)}),e.on(m.CONTINUE_GAME,()=>{const f=Ie(a);i.setMenuValues(f),z(a,e,r.controls,d,c)}),e.on(m.GAME_STARTED,()=>{a.updateState({isGameOver:!1})}),e.on(m.GAME_OVER,()=>{a.updateState({isGameOver:!0})});const u=Pe(a,L,e,d);l.appendChild(u);const p=Ze(a,e);l.appendChild(p)}window.addEventListener("load",mt);
